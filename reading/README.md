# Clean Architecture　達人に学ぶソフトウェアの構造と設計

## 読んだ目的・理由
* この本に出会う前からも、CleanArchitectureには興味があった。
* ネット上の記事を参考にしながら、クラス構成を見様見真似でやってみたりしていたが、どうもうまく行かなかった。
  * そもそも構造に対しても理解が足りていなかったのだと思った。
  * 本家の記事を読んでいなかったので、根っこの部分が欠けていたのも大きかったと思った。
* もっと設計を上手くできるようになりたい。ちゃんとCleanArchitectureを学びたい。そういう目標を持って読むことにした。

## 感想
* もっと早く読んでおけば良かったと思える本。
* 根っこの部分、目的や戦略の部分を繰り返し説明されていて、そこを理解しながら読むことで、CleanArchitectureの構成についても知識が深まったし、よりコードに落とし込めるようになったと感じる。
* とはいえより良いアーキテクチャを考えるためには、アクターとユースケースを正しく見つけることの重要さも分かった。そこについてはあまり本書では触れていないので、そこは別の本であったり実践の中で身につけるようにしていきたい。

## 要約

アーキテクチャの目的は、システム開発の生産性を上げることである。

> 「ソフトウェアアーキテクチャの目的は、求められるシステムを構築・保守するために必要な人材を最小限に抑えることである」   (第1章 設計とアーキテクチャ)

では、生産性を下げる要因になるところは何か？  
本書ではその要因を、ビジネス要件とは関係のないこと（フレームワーク、データストレージ、UIなど）に関する、**早すぎる決定・結合** だとしている。

> アーキテクトの目的は、求められるシステムを構築・維持するために必要な人材を最小限におさえることである。こうした人々のパワーを奪うものは何か？ それは、**結合** である。それも早すぎる決定との結合である
>
> 早すぎる決定とはどのようなものなのか？ それは、システムのビジネス要件（ユースケース）と関係のない決定である。

なので、そういったビジネス要件とは関係のない **詳細** な部分は、決定を後回して選択肢として残しておくことができる、そのようなアーキテクチャが優れたアーキテクチャだということになる。

選択肢として残しておくようにするということは、つまり、いつでもすぐに替えられるように変更しやすくしておくこと。

変更しやすくするには、他からなるべく依存されないようにすればいい。逆に他から多く依存されているものは変更しにくく安定したものになる。

まとめると、詳細は変更しやすいように他からなるべく依存されないようにする。ビジネス要件は詳細から依存されるよう構造にする。これが目指すべき優れたアーキテクチャである。

このようにしておくことで、例えば、最初はUIやデータストレージを簡易的なものにしておいて先にビジネス要件のコードを作り込む。ビジネス要件のコードの作り込みができてきたり、プロダクトが成長して要件が変わってきてから、それに沿ったUIやデータストレージを決めていく。といったような開発が可能になる。

本書では、このようなアーキテクチャにするための、具体的な手段であったり、、ノウハウが詰まったものになっている。ネットの記事などでよく見かけるクリーンアーキテクチャの円も、このアーキテクチャ戦略を実現するための具体的な手段として紹介されている。
